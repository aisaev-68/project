## ТЕСТОВОЕ ЗАДАНИЕ

## Описание задачи
В Excel файле example.xlsx представлены плановые и фактические значения проектов по датам.
Описание данных в файле верхний левый угол таблицы располагается в ячейке А1. В файле одна 
страница с названием "data". Столбцов дат может быть произвольное количество в диапазоне 
[1;100]. Строк с проектами может быть произвольное количество в диапазоне [1;100000].
Каждой дате соответствуют два столбца значений: план, факт.Даты соответствуют паттерну "дд.мм.ГГГГ" 
или "д.мм.ГГГГ". Ячейка со значением может быть пустой. Все ячейки значений в строке не могут 
быть пустыми. Код проекта уникальное целое число.Наименование проекта строка длиной от 1 до 100 
символов.

#### Описание модели данных

В файле данные представлены в ненормализованном виде.В PostgreSQL модель данных должна быть 
представлена следующими таблицами:
    Версии файлов (импорты)
    Справочник проектов
    Значения
Допускается создание других таблиц. Проработка атрибутов таблиц, связей и ограничений является 
частью задания.В рамках данного задания каждый загруженный файл следует считать независимым от 
другого. Если, например, в двух разных файлах совпадает название проекта и даты, то не нужно 
перезаписывать прошлые значения, а следует хранить независимо каждые.

### Задание

Написать REST API сервис с тремя методами:
1. Загрузка файла. Данные из файла необходимо загружать в БД PostgreSQL согласно описанной выше 
модели данных.
2. Выгрузка файла. Метод должен в качестве параметра запроса принимать идентификатор версии файла. 
Выгружаемый файл должен соответствовать структуре файла из примера. Порядок строк проектов 
произвольный, даты должны идти по возрастанию слева направо.
4. Метод, возвращающий json с данными для построения столбчатой диаграммы суммарных значений всех 
проектов по датам конкретного года. В параметре запроса должно быть можно указать: версию файла, 
год, тип значений (план или факт). Схема json остается на усмотрение разработчика.


### Переменные среды
Переименовать файл .env.example в .env и установите свои данные

### Команды для сборки и запуска

1. Собрать образы и запустить сервисы (при запуске сервисов происходить миграция и заполнение баз тестовыми данным): 
```
docker-compose up -d --build # режим prod
```
2. Для выгрузки фикстур с командной строки наберите:
```
docker-compose exec megano python manage.py dumpdata product > tests/fixtures/product-fixtures.json
```

3. Просмотр статуса службы:
```
docker-compose ps -a
```
4. Просмотр лога лога приложения
```
docker-compose logs megano
```

### Другие команды работы с docker

1. Перезапустить службу:
```
 docker-compose restart
```
2. Запустить службу:
```
docker-compose start <имя службы>
```
3. Остановить службу:
```
docker-compose stop <имя службы>
```
4. Закрыть службы и удалить контейнеры:
```
docker container stop $(docker container ls -aq) &&  
docker container rm $(docker container ls -aq) &&  
docker system prune --all --volumes
```

### Сайт
```
http://127.0.0.1